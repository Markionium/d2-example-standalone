<!doctype html>
<html>
    <body>
        <script src="node_modules/jquery/dist/jquery.js"></script>
        <script src="node_modules/d2/lib/d2-browser.min.js"></script>
        <script>
            jQuery.ajaxSetup({
                headers: {
                    Authorization: `Basic ${btoa('admin:district')}`,
                }
            });

            d2.init({ baseUrl: 'http://localhost:8080/dhis/api' })
                .then((d2) => {
                    d2.models.dataSets
                        .list()
                        .then((dataSets) => {
                            dataSets
                                .toArray()
                                .forEach(dataSet => document.write(dataSet.displayName));
                        });
                });
        </script>